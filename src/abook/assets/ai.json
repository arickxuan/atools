{
  "ruleContent": {
    "content": "\u003cjs\u003e\nif(baseUrl.match(/album-info/)){\ntext\u003d\"â†“å¤åˆ¶ä¸‹é¢ç½‘å€ï¼Œåœ¨ä¹¦æ¶é€‰æ‹©â—æ·»åŠ ç½‘å€â—ï¼Œç²˜è´´ç½‘å€ï¼Œå³å¯é˜…è¯»æœ¬ä¹¦â†“\\n\"+baseUrl+\"\\nç®€ä»‹ï¼š\"+JSON.parse(result).data.album.content\n}else if(baseUrl.match(/post_id/)){\n\tjson\u003dJSON.parse(result)\n\tpics\u003djson.data.post.pics;\n\tvideo\u003djson.data.post.video?\"è§†é¢‘é“¾æ¥ï¼š\"+json.data.post.video:\"\"\n\tpreview_text\u003djson.data.post.preview_text?json.data.post.preview_text:\"\"\n\timgs\u003d\"\";\n\tfor(i in pics){\n\t\timgs+\u003d\u0027\u003cimg src\u003d\"\u0027+pics[i]+\u0027\"\u003e\\n\u0027\n\t\t}\n\tresult\u003djson.data.post.content+imgs+video;\n\tresult!\u003d\"\"?result:preview_text+\"\\nğŸ’°\"+json.data.post.min_price+\"\\n\"+json.data.post.has_right_errMsg\n\t}else{\n\t\tresult\u003d\"â†“â†“å¤åˆ¶ä¸‹é¢æ–‡å­—ï¼Œç¼–è¾‘ä¹¦æºï¼Œæ·»åŠ è‡³å‘ç°è§„åˆ™â†“â†“\\n\"+book.name+\"çš„ä½œå“é›†::\"+baseUrl.replace(/page\u003d1/,\u0027page\u003d{\\{page}}\u0027)\n\t\t}\n\u003c/js\u003e"
  },
  "ruleExplore": {
    "author": "",
    "bookList": "$.data.list",
    "lastChapter": "$.update_time\n\u003cjs\u003e\njava.timeFormat(result+\"000\")\n\u003c/js\u003e",
    "intro": "$.content",
    "coverUrl": "$.cover",
    "bookUrl": "https://afdian.net/api/user/get-album-info?album_id\u003d{{$.album_id}}",
    "name": "$.title"
  },
  "weight": 59,
  "loginUrl": "\u003cjs\u003e\nuserInfo\u003dsource.getLoginInfoMap()\njava.log(userInfo)\nUNE\u003duserInfo[\u0027æ‰‹æœºå·ç /é‚®ç®±å·\u0027]\nPWD\u003duserInfo[\u0027å¯†ç \u0027]\nurl\u003d\"https://afdian.net/api/passport/login,\";\nSU\u003dsource.getKey()\nbody\u003d{\n  \"account\": String(UNE),\n  \"password\": String(PWD),\n  \"mp_token\": -1\n}\noption\u003d{\n\u0027method\u0027: \u0027POST\u0027,\n\u0027body\u0027: JSON.stringify(body)\n}\n\nurl\u003durl+JSON.stringify(option)\ntoken\u003djava.ajax(url).match(/\"auth_token\":\"([^\"]+)\"/)[1]\n\nCookie\u003d{\n\t\"Cookie\":\"auth_token\u003d\"+token\n\t}\nheader \u003d JSON.stringify(Cookie)\nsource.putLoginHeader(header)\n\u003c/js\u003e",
  "searchUrl": "https://afdian.net/api/creator/list?page\u003d{{page}}\u0026type\u003dhot\u0026category_id\u003d\u0026q\u003d{{key}}",
  "ruleSearch": {
    "coverUrl": "$.cover",
    "kind": "$..category.name",
    "bookUrl": "https://afdian.net/api/user/get-album-list?user_id\u003d{{$.creator.user_id}}\u0026page\u003d1",
    "name": "$.name",
    "bookList": "$.data.list",
    "intro": "$.creator.detail"
  },
  "enabledExplore": true,
  "ruleBookInfo": {
    "coverUrl": "$.data.album.cover",
    "author": "$.data.album.user.name",
    "tocUrl": "\u003cjs\u003e\nif(baseUrl.match(/get-album-info/)){\n\tjson\u003dJSON.parse(result);\turl\u003d\"https://afdian.net/api/user/get-album-catalog?album_id\u003d\"+json.data.album.album_id\n\t}\n\u003c/js\u003e",
    "name": "$.data.album.title",
    "intro": "",
    "init": ""
  },
  "ruleToc": {
    "chapterUrl": "\u003cjs\u003e\nif(baseUrl.match(/get-album-list/)){\nresult\u003d\"{{$.album_id}}\"?\"https://afdian.net/api/user/get-album-info?album_id\u003d{{$.album_id}}\":\"{{$.url}}\";\n}else if(baseUrl.match(/get-album-catalog/)){\tresult\u003d\"https://afdian.net/api/post/get-detail?post_id\u003d{{$.post_id}}\u0026album_id\u003d{{$.album_ids[0]}}\"\n\t}\n\u003c/js\u003e",
    "isVip": "",
    "chapterList": "$.data.list\n\u003cjs\u003e\nif(baseUrl.match(/get-album-list/)){\nresult\u003dString(result).replace(/\\[/,\u0027[{\"text\":\"\u0027+book.name+\u0027\",\"url\":\"\u0027+baseUrl+\u0027\"},\u0027)\n}\nresult\n\u003c/js\u003e\n$.[*]",
    "updateTime": "{{$.content_length}}å­— ğŸ’°{{$.min_price}} ç›®å½•æ€»æ•°ï¼š{{$.post_count}}\n\u003cjs\u003e\ntime\u003d\"{{$.publish_time}}\"?java.timeFormat(\"{{$.publish_time}}000\"):\"\"\nresult\u003dtime+\" \"+result\n\u003c/js\u003e\n##ğŸ’°0\\.00| å­— ğŸ’°| ç›®å½•æ€»æ•°ï¼š$",
    "chapterName": "$.title||$.text"
  },
  "bookSourceUrl": "https://afdian.net",
  "lastUpdateTime": 1648515056310,
  "customOrder": 640,
  "bookSourceType": 0,
  "enabled": true,
  "header": "{\n  \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36\"\n}",
  "bookSourceName": "çˆ±å‘ç”µï¼ˆç™»å½•ç›´æ¥ç‚¹ç™»å½•ï¼Œå¡«è´¦å·å¯†ç ï¼Œä¸è¦æ”¹ç™»å½•è§„åˆ™é‡Œçš„ä¸œè¥¿ï¼Œé˜…è¯»å‡çº§æœ€æ–°ç‰ˆï¼Œç½‘ç«™åªèƒ½æœä½œè€…ï¼‰",
  "bookSourceComment": "â—ç™»å½•ç›´æ¥ç‚¹ç™»å½•ï¼Œå¡«è´¦å·å¯†ç ï¼Œä¸è¦æ”¹ç™»å½•è§„åˆ™é‡Œçš„ä¸œè¥¿ï¼Œé˜…è¯»å‡çº§æœ€æ–°ç‰ˆ\nâ—ç½‘ç«™åªèƒ½æœä½œè€…",
  "respondTime": 397,
  "exploreUrl": "åœ†åœ†çš„ä½œå“é›†::https://afdian.net/api/user/get-album-list?user_id\u003d2759a734ac1011eaabb252540025c377\u0026page\u003d{{page}}\nlililicatçš„ä½œå“é›†::https://afdian.net/api/user/get-album-list?user_id\u003d144d7b90770311e982f652540025c377\u0026page\u003d{{page}}",
  "bookSourceGroup": "æœ¬åœ°ä»“åº“"
},
{
"bookSourceGroup": "æœ¬åœ°ä»“åº“",
"ruleExplore": {
"author": "$.author",
"bookList": "$.data.list",
"lastChapter": "æœ€è¿‘æ›´æ–°ï¼š@get:{time}",
"wordCount": "$.wordCount",
"intro": "$.description",
"kind": "{{$.score}}åˆ†\n{{$.secondCategoryName\u0026\u0026$.bookStatus}}\n{{java.put(\u0027time\u0027, java.timeFormatUTC(java.getString(\u0027$.updateTime\u0027)*1000,\u0027yyyy-MM-dd\u0027,8))}}",
"coverUrl": "$.imgUrl",
"bookUrl": "https://reader.browser.miui.com/api/v2/book/{{$.bookId}}",
"name": "$.name"
},
"weight": 58,
"ruleContent": {
"content": "$..contentList[*]##â€”â€”å†…å®¹æ¥è‡ª.*\n\u003cjs\u003e\nif(result.match(/^http.+$/)){\n\t\tsrc \u003d java.base64Decode(String(java.ajax(result)).match(/\\(\u0027([^\u0027]+)\u0027\\)/)[1]);\n\t}\nsrc\n\u003c/js\u003e\n$..p[*]||$..contentList[*]\n##â€”â€”å†…å®¹æ¥è‡ª.*",
"nextContentUrl": "",
"webJs": "",
"sourceRegex": ""
},
"loginUrl": "",
"searchUrl": "https://reader.browser.miui.com/api/v2/search/word?query\u003d{{key}}\u0026size\u003d100",
"ruleSearch": {
"author": "$.author",
"bookList": "$.related",
"lastChapter": "å‘å¸ƒæºç«™ï¼š{{$.cp}}",
"wordCount": "$.status",
"intro": "$.description",
"kind": "$.tags",
"coverUrl": "$.image",
"bookUrl": "https://reader.browser.miui.com/api/v2/book/{{$.id}}",
"name": "$.title"
},
"enabledExplore": true,
"ruleBookInfo": {
"author": "$..author",
"tocUrl": "https://reader.browser.miui.com/api/v2/chapter/list/{{$..bookId}}",
"lastChapter": "{{$.lastChapter.chapterName}} â€¢ @get:{time}",
"wordCount": "$..wordCount",
"intro": "{{\u0027\\n\u0026lrm;\\n\u0027}}ğŸ”— æºç«™ï¼š{{$..cpName}}\n{{\u0027\\n\u0026lrm;\\n\u0027}}ğŸ“† å¼€å‘ï¼š{{java.timeFormatUTC(java.getString(\u0027$.firstChapter.updateTime\u0027)*1000,\u0027yyyy-MM-dd\u0027,8)}}\n{{\u0027\\n\u0026lrm;\\n\u0027}}ğŸ“‘ ç®€ä»‹ï¼š{{$..description}}",
"kind": "{{$..score}}åˆ†\n{{$..secondCategoryName\u0026\u0026$..bookStatus}}\n{{java.put(\u0027time\u0027, java.timeFormatUTC(java.getString(\u0027$.lastChapter.updateTime\u0027),\u0027yyyy-MM-dd\u0027,8))}}",
"coverUrl": "$..imgUrl",
"name": "$..name",
"init": "$.data"
},
"ruleToc": {
"chapterUrl": "url",
"isVip": "",
"chapterList": "@js:\nlet u \u003d baseUrl.replace(\u0027list\u0027,\u0027content\u0027)\n\nlet v \u003d [];\nlet list \u003d [];\nJSON.parse(result).data.list.map($\u003d\u003e{\n\n//åˆ†å·åˆ¤å®š\n\t\tV \u003d $.volumeTitle\n\t\tif(v[v.length-1]!\u003dV\u0026\u0026!/^\\s*$/.test(V)){\n\t\t\t\tv.push(V)\n\t\t\t\tlist.push({\n\t\t\t\t\t\tname: \u0027ğŸ“–[\u0027+V+\u0027]ğŸ“–\u0027,\n\t\t\t\t\t\tvolume: true\n\t\t\t\t\t})\n\t\t\t}\n\n\t\treturn list.push({\n\t\t\t\tname: $.chapterName,\n\t\t\t\turl: u+\u0027?chapterId\u003d\u0027+$.chapterId+\u0027\u0026volumeId\u003d1\u0027,\n\t\t\t\tinfo: \u0027æ›´æ–°æ—¶é—´ï¼š\u0027+java.timeFormatUTC($.updateTime*1000,\u0027yyyy-MM-dd HH:mm\u0027,12)\n\t\t\t});\n\t});\nv.length\u003c2?list.filter($\u003d\u003e!$.volume):list",
"nextTocUrl": "",
"updateTime": "info",
"chapterName": "name"
},
"bookSourceUrl": "https://reader.browser.miui.com/v2",
"lastUpdateTime": 1680246572977,
"customOrder": 1234,
"bookSourceType": 0,
"enabled": true,
"header": "{\n  \"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.2357.134 Safari/537.36\"\n}",
"bookSourceName": "å°ç±³é˜…è¯»",
"bookSourceComment": "by  å­¦æ¸£ \u0026 abyssesml \u0026 Thomaså–²\nå…è´¹å°è¯´ä¹‹ç‹ï¼Œå°ç±³å®˜æ–¹å…¨æ–°æ‰“é€ ç§»åŠ¨é˜…è¯»å¹³å°ï¼Œå®ç°å…¨ç«™å°è¯´æ­£ç‰ˆæ°¸ä¹…æ€§å…è´¹é˜…è¯»ã€‚éƒ½å¸‚å–§åš£ï¼ŒèŒ«èŒ«ä¹¦æµ·ï¼Œæ„¿å…è´¹å°è¯´ä¹‹ç‹å¯ä»¥é™ªä¼´æ‚¨èµ°è¿‡ä¸€ä¸ªåˆä¸€ä¸ªå……å®çš„æ—¥å­ã€‚åœ¨è¿™é‡Œï¼Œæµ·é‡çº¢æ–‡ã€ç²¾ç»†åˆ†ç±»ã€ä¸å ç©ºé—´ã€æ’ç‰ˆç²¾è‡´ï¼Œæˆ‘ä»¬ä¸€èµ·ï¼Œè®©é˜…è¯»æˆä¸ºä¹ æƒ¯ï¼Œæˆä¸ºä¿¡ä»°ã€‚\nå°ç±³å‡ºå“ï¼Œå“è´¨ä¿è¯ã€‚",
"respondTime": 72,
"exploreUrl": "@js:\nsort\u003d[];\npush\u003d(title,url,type)\u003d\u003e{\n\t\tjson \u003d JSON.stringify({\n\t\t\t\ttitle: title,\n\t\t\t\turl: url?url:\"\",\n\t\t\t\tstyle: {\n\t\t\t\t\t\tlayout_flexGrow: 1,\n\t\t\t\t\t\tlayout_flexBasisPercent: type\n\t\t\t\t\t}\n\t\t\t});\n\t\treturn sort.push(json);\n\t}\npush(\u0027à¼ºË‡Â»`Êšæ’è¡Œæ¦œå•ÉÂ´Â«Ë‡à¼»\u0027,null,1);\n$$\u003d(a,b,c)\u003d\u003e{\n\t\treturn `https://reader.browser.duokan.com/api/v2/ranking?len\u003d10\u0026page\u003d{{page}\\}\u0026type\u003d${a}-${b}-${c}`\n\t}\n[[\"äººæ°”æ¦œ\",\"golden\"],[\"æ–°ä¹¦æ¦œ\",\"new\"],[\"å®Œç»“æ¦œ\",\"end\"],[\"çƒ­æœæ¦œ\",\"search\"]].map([title,b]\u003d\u003e{\n\t\tpush(\u0027à¼º \u0027+title+\u0027 à¼»\u0027,null,1);\n\t\t[\"ç”·é¢‘\",\"å¥³é¢‘\"].map((title1,a)\u003d\u003e{\n\t\t\t\ta++\n\t\t\t\t[[\"å‘¨æ¦œ\",\"week\"],[\"æœˆæ¦œ\",\"month\"],[\"æ€»æ¦œ\",\"total\"]].map([title2,c]\u003d\u003e{\n\t\t\t\t\t\treturn push(title1+title2,$$(a,b,c),0.25);\n\t\t\t\t\t});\n\t\t\t});\n\t});\npush(\u0027à¼ºË‡Â»`Êšä¹¦ç±åˆ†ç±»ÉÂ´Â«Ë‡à¼»\u0027,null,1);\n$$\u003d(sex,bookStatus,categoryId,hotChoice)\u003d\u003e{\n\t\treturn `https://reader.browser.duokan.com/api/v2/book/list2?len\u003d10\u0026page\u003d{{page}\\}\u0026sex\u003d${sex}\u0026bookStatus\u003d${bookStatus}\u0026categoryId\u003d${categoryId}\u0026wordCountsInterval\u003d0\u0026hotChoice\u003d${hotChoice}`\n\t}\nbookStatus\u003dcategoryId\u003dhotChoice\u003d0;\n[\n\t\t[\"ç”·é¢‘\",[[\"éƒ½å¸‚\",7],[\"ç„å¹»\",3],[\"ä»™ä¾ \",6],[\"å†å²\",8],[\"çµå¼‚\",10],[\"ç§‘å¹»\",11],[\"å¥‡å¹»\",4],[\"åŒäºº\",143],[\"æ¸¸æˆ\",12],[\"æ­¦ä¾ \",5],[\"ç«æŠ€\",13]]],\n\t\t[\"å¥³é¢‘\",[[\"ç°ä»£è¨€æƒ…\",75],[\"å¤ä»£è¨€æƒ…\",74],[\"æµªæ¼«é’æ˜¥\",76],[\"ç„å¹»è¨€æƒ…\",72],[\"ä»™ä¾ å¥‡ç¼˜\",73],[\"æ‚¬ç–‘çµå¼‚\",77],[\"ç§‘å¹»ç©ºé—´\",78],[\"åŒäººå°è¯´\",80],[\"æ¸¸æˆç«æŠ€\",79],[\"è€½ç¾å°è¯´\",81]]]\n].map(([title,list],sex)\u003d\u003e{\n\t\tsex++\n\t\tpush(\u0027à¼ºË‡Â»`Êš\u0027+title+\u0027ÉÂ´Â«Ë‡à¼»\u0027,$$(sex,bookStatus,categoryId,hotChoice),1);\n\t\tlist.map([title,categoryId]\u003d\u003e{\n\t\t\t\tpush(\u0027à¼º \u0027+title+\u0027 à¼»\u0027,$$(sex,bookStatus,categoryId,hotChoice),1);\n\t\t\t\t[\"ç»¼åˆå…¨éƒ¨\",\"æœ€æ–°ä¸Šçº¿\",\"é˜…è¯»æœ€å¤š\",\"ç‚¹èµæœ€é«˜\"].map((title,hotChoice)\u003d\u003e{\n\t\t\t\t\t\t[\u0027[\u0027+title+\u0027]\u0027,\"è¿è½½\",\"å®Œç»“\"].map((title,bookStatus)\u003d\u003e{\n\t\t\t\t\t\t\t\treturn push(title,$$(sex,bookStatus,categoryId,hotChoice),0.25);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t});\n\u0027[\u0027+sort.toString()+\u0027]\u0027",
"bookUrlPattern": "https://reader.browser

.miui.com/api/v2/book/\\d+"
}
]